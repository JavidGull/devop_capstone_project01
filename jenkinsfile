pipeline {
    agent any
    stages {
       stage('Branch Develop Git Checkout Code') {
          when { branch 'develop'
          beforeAgent true}
          agent {label 'dev'}
          steps {
               git branch: 'develop', url: 'https://github.com/JavidGull/devop_capstone_project01.git'  
             }
         }
       stage( 'Branch Master Git Checkout Code') {
          when {branch 'master' 
          beforeAgent true}
          agent {label 'prod'}
          steps {
               git branch: 'master', url: 'https://github.com/JavidGull/devop_capstone_project01.git '  
             }
         }

       stage('Test Develop') {
          when { branch 'develop' 
          beforeAgent true}
          agent {label 'dev'}
          steps {
                 sh "echo 'This test execution is for develop branch'"   
             }
         }
       stage('Test Master') {
          when { branch 'master' 
          beforeAgent true}
          agent {label 'prod'}
          steps {
                 sh "echo 'This test execution is for master branch'"   
             }
         }
    }
}
